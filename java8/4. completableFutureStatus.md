import java.util.concurrent.CompletableFuture;

public class StreamExample {
  public static void main(String[] args) throws InterruptedException {
    final CompletableFuture<Integer> task = createTask();

    Thread.sleep(100);//wait for completable future to complete

    System.out.println(task.isDone());            //true
    System.out.println(task.isCancelled());         //false
    System.out.println(task.isCompletedExceptionally());  //true
  }

  private static CompletableFuture<Integer> createTask() {
    //return CompletableFuture.supplyAsync(() -> 2);
    return CompletableFuture.supplyAsync(() -> { throw new RuntimeException("oops"); });
  }
}
